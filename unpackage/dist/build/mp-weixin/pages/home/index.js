(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/home/index"],{"00bd":function(t,n,e){"use strict";var a=e("a5f6"),o=e.n(a);o.a},"3a3c":function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=o(e("a34a"));e("7f77");function o(t){return t&&t.__esModule?t:{default:t}}function i(t,n,e,a,o,i,r){try{var s=t[i](r),c=s.value}catch(u){return void e(u)}s.done?n(c):Promise.resolve(c).then(a,o)}function r(t){return function(){var n=this,e=arguments;return new Promise(function(a,o){var r=t.apply(n,e);function s(t){i(r,a,o,s,c,"next",t)}function c(t){i(r,a,o,s,c,"throw",t)}s(void 0)})}}var s=wx.getSystemInfoSync(),c=s.windowHeight,u=s.windowWidth,d={},f=wx.cloud.database(),h=(f.collection("UserInfo"),f.collection("UserCount")),l={data:function(){return{paopaoArr:[],windowHeight:c,windowWidth:u,isAdding:!1,isDrawing:!1}},onShow:function(){var t=r(a.default.mark(function t(){return a.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.openId){t.next=3;break}return t.next=3,this.getOpenId();case 3:this.getUserNameChance();case 4:case"end":return t.stop()}},t,this)}));function n(){return t.apply(this,arguments)}return n}(),onReady:function(){var n=this;d=t.createCanvasContext("firstCanvas"),setInterval(function(){n._addPaoPao()},20),setInterval(function(){n._draw()},1e3/60)},methods:{_addPaoPao:function(){if(!(this.isAdding||this.paopaoArr.length>220)){this.isAdding=!0;var t={x:Math.random()*u,y:c+100*Math.random()},n=.1+.2*Math.random(),e=.1+.3*Math.random(),a=Math.random();this.paopaoArr.push({pos:t,alpha:n,scale:e,speed:a,red:255,green:255,blue:255}),this.isAdding=!1}},_draw:function(){this.isDrawing||(this.isDrawing=!0,this.paopaoArr=this.paopaoArr.filter(function(t){return t.pos.y>0&&t.alpha>0}),this.paopaoArr.forEach(function(t){t.pos.y-=t.speed,t.alpha-=5e-4,t.alpha>0&&t.pos.x<u&&t.pos.x>0&&t.pos.y<c&&t.pos.y>0&&(d.beginPath(),d.arc(t.pos.x,t.pos.y,20*t.scale,0,2*Math.PI),d.setFillStyle("rgba(".concat(t.red,",").concat(t.green,",").concat(t.blue,",").concat(t.alpha,")")),d.fill())}),d.draw(),this.isDrawing=!1)},goToSelectFeature:function(t){this.$store.dispatch("setSelectGender",t),this.navigateTo("/pages/home/selectFeature/index")},getUserNameChance:function(){var t=this;h.where({}).get().then(function(n){n.data[0]&&n.data[0].count<3&&t.$store.dispatch("setCanGenName",!0),!n.data[0]&&t.initUserNameChance()})},initUserNameChance:function(){this.$store.dispatch("setCanGenName",!0);var t={count:0,openId:this.openId,isShared:!1};h.add({data:t}).then(function(t){})}}};n.default=l}).call(this,e("543d")["default"])},"474c":function(t,n,e){"use strict";e.r(n);var a=e("3a3c"),o=e.n(a);for(var i in a)"default"!==i&&function(t){e.d(n,t,function(){return a[t]})}(i);n["default"]=o.a},a5f6:function(t,n,e){},b705:function(t,n,e){"use strict";(function(t){e("005e"),e("921b");a(e("66fd"));var n=a(e("d575"));function a(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,e("543d")["createPage"])},d575:function(t,n,e){"use strict";e.r(n);var a=e("ff4d"),o=e("474c");for(var i in o)"default"!==i&&function(t){e.d(n,t,function(){return o[t]})}(i);e("00bd"),e("f535");var r=e("2877"),s=Object(r["a"])(o["default"],a["a"],a["b"],!1,null,"ac8dab54",null);n["default"]=s.exports},f3a3:function(t,n,e){},f535:function(t,n,e){"use strict";var a=e("f3a3"),o=e.n(a);o.a},ff4d:function(t,n,e){"use strict";var a=function(){var t=this,n=t.$createElement;t._self._c},o=[];e.d(n,"a",function(){return a}),e.d(n,"b",function(){return o})}},[["b705","common/runtime","common/vendor"]]]);