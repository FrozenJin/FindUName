{"version":3,"sources":["webpack:///D:/Frozen-project/myweb-test-project/mpvue-test/uni-name/uni-name/main.js","webpack:///D:/Frozen-project/myweb-test-project/mpvue-test/uni-name/uni-name/pages/history/oneName/share/index.vue?d2b2","webpack:///D:/Frozen-project/myweb-test-project/mpvue-test/uni-name/uni-name/pages/history/oneName/share/index.vue?f104","webpack:///D:/Frozen-project/myweb-test-project/mpvue-test/uni-name/uni-name/pages/history/oneName/share/index.vue?3f5f","webpack:///D:/Frozen-project/myweb-test-project/mpvue-test/uni-name/uni-name/pages/history/oneName/share/index.vue?7ffe","webpack:///D:/Frozen-project/myweb-test-project/mpvue-test/uni-name/uni-name/pages/history/oneName/share/index.vue"],"names":["createPage","Page","data","title","shareText","image","shareType","providerList","onShareAppMessage","path","imageUrl","onUnload","href","onLoad","uni","getProvider","service","success","e","console","log","i","provider","length","push","name","id","sort","type","x","y","fail","showModal","content","showCancel","methods","chooseImage","count","sourceType","sizeType","res","tempFilePaths","compress","img","Promise","localPath","plus","io","convertAbsoluteFileSystem","replace","resolveLocalFileSystemURL","entry","file","JSON","stringify","size","zip","compressImage","src","dst","width","height","quality","overwrite","event","newImg","error","message"],"mappings":"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","file":"pages/history/oneName/share/index.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/history/oneName/share/index.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=ca63a5fc&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../HBuilderX.2.1.1.20190716.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\HBuilderX.2.1.1.20190716.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('ca63a5fc', component.options)\n    } else {\n      api.reload('ca63a5fc', component.options)\n    }\n    module.hot.accept(\"./index.vue?vue&type=template&id=ca63a5fc&\", function () {\n      api.rerender('ca63a5fc', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Frozen-project/myweb-test-project/mpvue-test/uni-name/uni-name/pages/history/oneName/share/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../HBuilderX.2.1.1.20190716.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!../../../../../../../../../HBuilderX.2.1.1.20190716.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../../HBuilderX.2.1.1.20190716.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../HBuilderX.2.1.1.20190716.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../HBuilderX.2.1.1.20190716.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../../../HBuilderX.2.1.1.20190716.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=ca63a5fc&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../../../HBuilderX.2.1.1.20190716.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../HBuilderX.2.1.1.20190716.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../HBuilderX.2.1.1.20190716.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../HBuilderX.2.1.1.20190716.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../HBuilderX.2.1.1.20190716.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../../../HBuilderX.2.1.1.20190716.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../HBuilderX.2.1.1.20190716.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../HBuilderX.2.1.1.20190716.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../HBuilderX.2.1.1.20190716.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../HBuilderX.2.1.1.20190716.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../HBuilderX.2.1.1.20190716.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../../../HBuilderX.2.1.1.20190716.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\nexport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttitle: 'share',\r\n\t\t\t\tshareText: 'uni-app可以同时发布成原生App、小程序、H5，邀请你一起体验！',\r\n\t\t\t\timage: '',\r\n\t\t\t\tshareType:1,\r\n\t\t\t\tproviderList: []\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShareAppMessage() {\r\n\t\t\treturn {\r\n\t\t\t\ttitle: this.shareText ? this.shareText : \"欢迎体验 name名\",\r\n\t\t\t\tpath: '/pages/tabBar/component/component',\r\n\t\t\t\timageUrl:this.image ? this.image : 'cloud://finduname-s9wdm.6669-finduname-s9wdm-1259413430/logo/logo.png'\r\n\t\t\t}\r\n\t\t},\r\n\t\tonUnload:function(){\r\n\t\t\tthis.shareText='uni-app可以同时发布成原生App、小程序、H5，邀请你一起体验！',\r\n\t\t\tthis.href = 'https://uniapp.dcloud.io',\r\n\t\t\tthis.image='';\r\n\t\t},\r\n\t\tonLoad: function () {\r\n\t\t\tuni.getProvider({\r\n\t\t\t\tservice: 'share',\r\n\t\t\t\tsuccess: (e) => {\r\n\t\t\t\t\tconsole.log('success', e);\r\n\t\t\t\t\tlet data = []\r\n\t\t\t\t\tfor (let i = 0; i < e.provider.length; i++) {\r\n\t\t\t\t\t\tswitch (e.provider[i]) {\r\n\t\t\t\t\t\t\tcase 'weixin':\r\n\t\t\t\t\t\t\t\tdata.push({\r\n\t\t\t\t\t\t\t\t\tname: '分享到微信好友',\r\n\t\t\t\t\t\t\t\t\tid: 'weixin',\r\n\t\t\t\t\t\t\t\t\tsort:0\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\tdata.push({\r\n\t\t\t\t\t\t\t\t\tname: '分享到微信朋友圈',\r\n\t\t\t\t\t\t\t\t\tid: 'weixin',\r\n\t\t\t\t\t\t\t\t\ttype:'WXSenceTimeline',\r\n\t\t\t\t\t\t\t\t\tsort:1\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'sinaweibo':\r\n\t\t\t\t\t\t\t\tdata.push({\r\n\t\t\t\t\t\t\t\t\tname: '分享到新浪微博',\r\n\t\t\t\t\t\t\t\t\tid: 'sinaweibo',\r\n\t\t\t\t\t\t\t\t\tsort:2\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'qq':\r\n\t\t\t\t\t\t\t\tdata.push({\r\n\t\t\t\t\t\t\t\t\tname: '分享到QQ',\r\n\t\t\t\t\t\t\t\t\tid: 'qq',\r\n\t\t\t\t\t\t\t\t\tsort:3\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.providerList = data.sort((x,y) => {\r\n\t\t\t\t\t\treturn x.sort - y.sort\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t\tfail: (e) => {\r\n\t\t\t\t\tconsole.log('获取分享通道失败', e);\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\tcontent:'获取分享通道失败',\r\n\t\t\t\t\t\tshowCancel:false\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tchooseImage() {\r\n\t\t\t\tuni.chooseImage({\r\n\t\t\t\t\tcount: 1,\r\n\t\t\t\t\tsourceType: ['album', 'camera'],\r\n\t\t\t\t\tsizeType: ['compressed', 'original'],\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tthis.image = res.tempFilePaths[0];\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tcompress(){//压缩图片 图文分享要求分享图片大小不能超过20Kb\r\n\t\t\t\tconsole.log('开始压缩');\r\n\t\t\t\tlet img = this.image;\r\n\t\t\t\treturn new Promise((res) => {\r\n\t\t\t\t\tvar localPath = plus.io.convertAbsoluteFileSystem(img.replace('file://', ''));\r\n\t\t\t\t\tconsole.log('after' + localPath);\r\n\t\t\t\t\t// 压缩size\r\n\t\t\t\t\tplus.io.resolveLocalFileSystemURL(localPath, (entry) => {\r\n\t\t\t\t\t\tentry.file((file) => {// 可通过entry对象操作图片 \r\n\t\t\t\t\t\t\tconsole.log('getFile:' + JSON.stringify(file));\r\n\t\t\t\t\t\t\tif(file.size > 20480) {// 压缩后size 大于20Kb\r\n\t\t\t\t\t\t\t\tplus.zip.compressImage({\r\n\t\t\t\t\t\t\t\t\tsrc: img,\r\n\t\t\t\t\t\t\t\t\tdst: img.replace('.jpg', '2222.jpg').replace('.JPG', '2222.JPG'),\r\n\t\t\t\t\t\t\t\t\twidth: '10%',\r\n\t\t\t\t\t\t\t\t\theight: '10%',\r\n\t\t\t\t\t\t\t\t\tquality: 1,\r\n\t\t\t\t\t\t\t\t\toverwrite: true\r\n\t\t\t\t\t\t\t\t}, (event) => {\r\n\t\t\t\t\t\t\t\t\tconsole.log('success zip****' + event.size);\r\n\t\t\t\t\t\t\t\t\tlet newImg = img.replace('.jpg', '2222.jpg').replace('.JPG', '2222.JPG');\r\n\t\t\t\t\t\t\t\t\tres(newImg);\r\n\t\t\t\t\t\t\t\t}, function(error) {\r\n\t\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\t\tcontent:'分享图片太大,需要请重新选择图片!',\r\n\t\t\t\t\t\t\t\t\t\tshowCancel:false\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}, (e) => {\r\n\t\t\t\t\t\tconsole.log('Resolve file URL failed: ' + e.message);\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\tcontent:'分享图片太大,需要请重新选择图片!',\r\n\t\t\t\t\t\t\tshowCancel:false\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n"],"sourceRoot":""}